---
puppet::runinterval:       1800
puppet::runmode:           'cron'
puppet::puppetmaster:      "puppet.%{hiera('domain_mgmt')}"
puppet::show_diff:         true
puppet::classfile:         '$statedir/classes.txt'
puppet::usecacheonfailure: false
puppet::client_certname:   "%{::verified_certname}"
puppet::environment:       "%{hiera('puppet_environment')}"

puppet::agent_additional_settings:
  'disable_warnings':   'deprecations'
  'stringify_facts':    'false'

puppet::server_directory_environments: true
puppet::server_external_nodes:         ''
puppet::server_foreman_facts:          true
puppet::server_additional_settings:
  'trusted_node_data':  'true'

# puppet4 puppetserver
puppet::server_jvm_min_heap_size:         '1G'
puppet::server_jvm_max_heap_size:         '1G'
puppet::server_max_active_instances:      1
puppet::server_max_requests_per_instance: 500

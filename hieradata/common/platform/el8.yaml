---
include:
  default:
    - profile::network::interface
  kickstart:
    - profile::network::interface
  bootstrap:
    - profile::network::interface

profile::base::yumrepo::repo_hash:
  CentOS-Updates:
    ensure: absent
  epel:
    gpgkey:         'file:///etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-8'
  puppetlabs:
    baseurl:        "%{hiera('yum_base_mirror')}/%{hiera('repo_dist')}/puppetlabs6/"
    gpgkey:         "%{hiera('yum_base_mirror')}/%{hiera('repo_dist')}/puppetlabs6/RPM-GPG-KEY-puppet"
  centos-qemu-ev:   # unavailable for el8
    ensure: absent
  CentOS-Advanced-Virtualization: # FIXME
    module_hotfixes: '1'
  mariadb-10.3: # FIXME
    module_hotfixes: '1'

profile::base::common::packages:
  'bash-completion-extras': { ensure: absent, }     # FIXME clean up when el7 is gone
  'python-etcd3gw': { ensure: absent, }             # FIXME clean up when el7 is gone
  'python-memcached': { ensure: absent, }           # FIXME clean up when el7 is gone
  'python2-oslo-policy': { ensure: absent, }        # FIXME clean up when el7 is gone
  'python2-keystonemiddleware': { ensure: absent, } # FIXME clean up when el7 is gone
  'python2-designateclient': { ensure: absent, }    # FIXME clean up when el7 is gone
  'python2-openstackclient': { ensure: absent, }    # FIXME cleun up when el7 is gone
  'openstack-utils': { ensure: absent, }            # FIXME clean up when el7 is gone
  'MySQL-python.x86_64': { ensure: absent, }        # FIXME clean up when el7 is gone, replaced by python3-mysql

profile::base::common::manage_network: false # the profile::base::network class is deprecated
profile::base::common::manage_ntp:     false # ntpd has been replaced by chrony in el8
profile::base::common::manage_chrony:  true

profile::network::interface::manage_interface:        true
profile::network::interface::suppress_legacy_warning: true

profile::dns::ns::enable_bird6:         false # FIXME: clean up when el7 is gone

collectd::minimum_version:              '5.9'
collectd::plugin::disk::manage_package: true

calico::compute::peer_template:  'profile/bird/bird-rr-ipv4.erb' # FIXME This should move to common when el7 is gone
calico::compute::peer6_template: 'profile/bird/bird-rr-ipv6.erb' # FIXME
calico::enable_ipv6:  false                                      # The bird daemon handles both ipv4 and ipv6

calico_version:       '320'                                      # FIXME This should move to common when el7 network and computes are gone
mariadb_version:      '10.3'

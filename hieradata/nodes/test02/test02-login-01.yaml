---

named_interfaces::config:
  mgmt:
    - eth0

network::interfaces_hash:
  eth0:
    ipv4:
      method:         'manual'
      address1:       "%{hiera('netcfg_mgmt_netpart')}.3/21" # TODO test02 network: Replace 21 with %{hiera('netcfg_mgmt_cidr4')}
      gateway:        "%{hiera('netcfg_mgmt_gateway')}"
      dns:            "%{hiera('netcfg_dns_mgmt_server1')};%{hiera('netcfg_dns_mgmt_server2')}"
      dns-search:     "%{hiera('domain_mgmt')}" # TODO test02 network: mgmt.test02.uhdc.no

ssh::server::options:
  'Match User iaas Address 172.16.32.10':
    AuthenticationMethods: 'publickey'

accounts::accounts:
  'iaas':
    ensure: present

allow_from_admins_network:                # FIXME: Remove this when all login nodes use this (this is the default in common)
  - '129.177.0.0/16'                                # UiB fastnett
  - '129.240.0.0/16'                                # UiO fastnett
  - '172.16.32.0/21'                                # osl mgmt
  - '158.39.75.246/32'                              # osl-login-02
  - '158.39.74.246/32'                              # bgo-login-02

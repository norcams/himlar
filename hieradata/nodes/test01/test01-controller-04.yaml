---
network::interfaces_hash:
  br0: # mgmt
    connection_type:  'bridge'
    ipv4:
      address1:       "%{hiera('netcfg_mgmt_netpart')}.114/%{hiera('netcfg_mgmt_cidr4')}"
      dns:            "%{hiera('netcfg_dns_mgmt_server1')};%{hiera('netcfg_dns_mgmt_server2')};"
      dns-search:     "%{hiera('netcfg_dns_search_nm')}"
      gateway:        "%{hiera('netcfg_mgmt_gateway')}"
      method:         'manual'
  br1: # trp
    connection_type:  'bridge'
    bridge:
      stp:            'false'
    ipv4:
      address:        "%{hiera('netcfg_trp_netpart')}.114/%{hiera('netcfg_trp_cidr4')}"
      never-default:  'true'
      method:         'manual'
  br2:
    connection_type:  'bridge'
    ipv4: {}
    ipv6: {}
  p1p1: # mgmt
    controller:       'br0'
    ipv4: {}
    ipv6: {}
  p1p1.913: # oob
    connection_type:  'vlan'
    controller:       'br2'
    ipv4: {}
    ipv6: {}
    vlan:
      parent:         'p1p1'
      id:             913
      flags:          1
  p1p2: {} # not in use
  bond0-em1: # trp
    interface_name:   'em1'
    controller:       'bond0'
    port_type:        'bond'
    ipv4: {}
    ipv6: {}
    ethernet:
      mtu:  9000
  bond0-em2: # ttrp
    interface_name:   'em2'
    controller:       'bond0'
    port_type:        'bond'
    ipv4: {}
    ipv6: {}
    ethernet:
      mtu:  9000
  bond0:
    connection_type:  'bond'
    controller:       'br1'
    ipv4: {}
    ipv6: {}
    bond:
      mode: '802.3ad'              # the best and only supported mode with existing network config
      xmit_hash_policy: 'layer3+4' # please use this hash policy
    ethernet:
      mtu:  9000

lvm::volume_groups:
  vg_ext:
    physical_volumes:
      - /dev/sda4
    logical_volumes:
      lv_ext:
        fs_type:   xfs
        mountpath: "/var/lib/libvirt/images"

---
classes:
  - profile::base::common
classes_bootstrap:
  - profile::base::common

profile::base::common::manage_augeasproviders: true
profile::base::common::manage_epel:            true
profile::base::common::manage_accounts:        true
profile::base::common::manage_logging:         false
profile::base::common::manage_monitoring:      false
profile::base::common::manage_ssh:             true
profile::base::common::manage_ntp:             true
profile::base::common::manage_sudo:            true
profile::base::common::manage_authconfig:      false
profile::base::common::manage_firewall:        false
profile::base::common::manage_timezones:       true

account::accounts:
  iaas:
    ssh_key_type: rsa
    ssh_key: AAAAB3NzaC1yc2EAAAADAQABAAABAQC+OF1sQvpZdYhxVJgrd+1P84/AegFJHY5W0SLIO8dF4K6CP08bJNwg+5eD8kxebmoXTJlfIRC1onJfjDPl94x9F3x18zib3kiSIPnkN7BsCZIxTcN1czHRUEtyOPG9JlKCagaXwHkBIzYIngF9hwBix9ZetuYieiZU/rhnk7x/zNxmjqPBf26rEI1qk4S6xYoAJjx0YFUbLYYiqc7YxGypo0ag99nKaZpy2p5mMyYGn4nGmlCzSG+aANokvlz8gwVzThaIPB8s0YYdXf1w/1OdFcUuW8Wm3AonFZcVhGfJy3yaAZDvbpWI1JVbJ9hMOo5Tml6nx8FM8MU6mAoamgRT
    groups:
      - wheel
      - users
  vagrant:
    ensure: absent

sudo::configs:
  wheel:
    priority: 15
    content: '%wheel ALL=(ALL) NOPASSWD:ALL'

ntp::servers:
  - 0.pool.ntp.org
  - 1.pool.ntp.org
  - 2.pool.ntp.org
  - 3.pool.ntp.org

ssh::server::storeconfigs_enabled: false
ssh::server::options:
  PermitRootLogin: 'no'
  PasswordAuthentication: 'no'

timezone::timezone: "Europe/Oslo"

puppet::puppetmaster: "puppet.%{domain}"
puppet::additional_settings:
  'basemodulepath'   : '/etc/puppet/modules:/opt/himlar/modules'
  'certname'         : "%{::verified_certname}"
  'trusted_node_data': true
  'disable_warnings' : 'deprecations'

#
# Ceph parameters
#
ceph::profile::params::manage_repo:                 false
ceph::profile::params::release:                     'firefly'
######## Ceph.conf
ceph::profile::params::fsid:                        '4b5c8c0a-ff60-454b-a1b4-9747aa737d19'
ceph::profile::params::authentication_type:         'cephx'
ceph::profile::params::mon_initial_members:         'bgo-cephmon-01,bgo-cephmon-02'
ceph::profile::params::mon_host:                    '172.16.32.90:6789,172.16.32.223:6789'
ceph::profile::params::osd_pool_default_pg_num:     '200'
ceph::profile::params::osd_pool_default_pgp_num:    '200'
ceph::profile::params::osd_pool_default_size:       '2'
ceph::profile::params::osd_pool_default_min_size:   '1'
ceph::profile::params::cluster_network:             '172.16.32.0/21'
ceph::profile::params::public_network:              '172.16.32.0/21'
######## Keys
ceph::profile::params::mon_key:                     'AQATGHJTUCBqIBAA7M2yafV1xctn1pgr3GcKPg=='
# as an alternative to specifying the mon key you can provide an exising keyring
#ceph::profile::params::mon_keyring: '/etc/ceph/ceph.mon.keyring'
ceph::profile::params::admin_key:                   'AQBMGHJTkC8HKhAAJ7NH255wYypgm1oVuV41MA=='
ceph::profile::params::admin_key_mode:              '0600'
ceph::profile::params::bootstrap_osd_key:           'AQARG3JTsDDEHhAAVinHPiqvJkUi5Mww/URupw=='
ceph::profile::params::bootstrap_mds_key:           'AQCztJdSyNb0NBAASA2yPZPuwXeIQnDJ9O8gVw=='
ceph::profile::params::osds:
  '/var/osd1':
    journal: '/var/osd1-journal'


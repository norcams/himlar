# Default values for all nodes
#
#  These settings can be overridden per node in the
#  nodeset configurations
#
defaults:
  box:       "norcams/base"
  autostart: true
  primary:   false
  location:  "vagrant"
  domain:    "vagrant.iaas.intern"
  cpus:      1
  memory:    1024
  networks:
    - "mgmt"
    - "transport"
    - "public"

#
# Nodesets configuration example:
#
#   simple:
#     - role: master
#     - role: compute
#
#   This will configure two nodes with the following FQDNs:
#     vagrant-master-01.vagrant.iaas.intern
#     vagrant-compute-01.vagrant.iaas.intern
#
#   4nodes:
#     - name: db
#     - name: master
#     - role: compute
#       hostid: 01
#       role: compute
#       hostid: 02
#
#   This will configure four nodes with the following FQDNs:
#     vagrant-db-01.vagrant.iaas.intern
#     vagrant-master-01.vagrant.iaas.intern
#     vagrant-compute-01.vagrant.iaas.intern
#     vagrant-compute-02.vagrant.iaas.intern
#
nodesets:
  default:
    - role:   "db"
    - role:   "dashboard"
    - role:   "master"
      memory: 3096
    - role:   "compute"
      memory: 2048
      cpus:   2
  full:
    - role:   "db"
    - role:   "dashboard"
    - role:   "master"
      memory: 3096
    - role:   "compute"
      memory: 2048
      cpus:   2
    - role:   "access"
    - role:   "novactrl"
    - role:   "identity"
    - role:   "console"
    - role:   "image"
    - role:   "network"
    - role:   "volume"
    - role:   "api"
    - role:   "mq"
      hostid: "01"
    - role:   "mq"
      hostid: "02"
    - role: "monitor"
    - role: "logger"
      cpus:   1
      memory: 2048
  base:
    - role: "base"
  infra:
    - role: "login"
    - role: "controller"
    - role: "admin"
    - role: "proxy"
  ceph:
    - role: "cephmon"
    - role: "storage"
  consul:
    - role: "compute"
      hostid: "com1"
    - role: "compute"
      hostid: "com2"
    - role: "controller"
      hostid: "con1"
    - role: "controller"
      hostid: "con2"
    - role: "controller"
      hostid: "con3"

networks:
  mgmt:
    net: "172.31.0"
    auto_config: false
  oob:
    net: "172.31.8"
    auto_config: false
  transport:
    net: "172.31.16"
    auto_config: false
  public:
    net: "172.31.24"
    auto_config: false
